configValidationMode: off
frameworkVersion: '3'

service: scheduled-maintenance

provider:
  name: cloudflare
  config:
    accountId: ${env:CLOUDFLARE_ACCOUNT_ID}
    zoneId: ${env:CLOUDFLARE_ZONE_ID}

plugins:
  - serverless-cloudflare-workers

functions:
  scheduled-maintenance:
    name: scheduled-maintenance
    script: ${env:ARTIFACT_PATH}
    events:
      - http:
          url: api-sandbox.dwolla.com/*
      - http:
          url: dashboard-sandbox.dwolla.com/*
      - http:
          url: accounts-sandbox.dwolla.com/*
      - http:
          url: partners-sandbox.dwolla.com/*
      - http:
          url: transfer-sandbox.dwolla.com/*
